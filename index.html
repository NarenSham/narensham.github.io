<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Naren Sham | Portfolio</title>
    <link href="styles/main.css" rel="stylesheet">
    <!-- Add Inter font from Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Add Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- Add fflate for EXR support -->
    <script src="https://cdn.jsdelivr.net/npm/fflate@0.7.4/umd/index.min.js"></script>
    <!-- Add GLTFLoader for loading GLB files -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <!-- Add EXR loader -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/EXRLoader.js"></script>
    <!-- Add OrbitControls -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>

</head>
<body>
    <!-- Add loading overlay -->
    <div id="loading-overlay" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255, 255, 255, 0.9); display: flex; align-items: center; justify-content: center; font-size: 2rem; z-index: 9999;">
        <span style="color: lightgrey; font-family: 'Arial Narrow', sans-serif; font-weight: normal; font-size: 2rem;">Loading...</span>
        <span id="countdown" style="color: lightgrey; font-family: 'Arial Narrow', sans-serif; font-weight: normal; font-size: 2rem;">5</span>
    </div>
    <nav>
        <div class="container">
            <div class="logo">
                <a href="/">NAREN</a>
            </div>
            <button class="hamburger" id="hamburger" aria-label="Menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul id="nav-links">
                <li><a href="#projects">Projects</a></li>
                <li><a href="#skills">Skills</a></li>
                <li><a href="#experience">Experience</a></li>
                <li><a href="#education">Education</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <main>
            <section class="hero">
                <div class="model-wrapper">
                    <div id="model-container"></div>
                </div>
                <div class="text-container">
                    <h2>Hello, I'm Naren.<br>I'm a <span class="dynamic-text"></span></h2>
                </div>
                <div class="social-links">
                    <a href="https://github.com/NarenSham" class="button">GitHub</a>
                    <a href="https://www.linkedin.com/in/narensham/" class="button">LinkedIn</a>
                </div>
            </section>

            <section id="projects">
                <h2>My projects</h2>
                <div class="projects-grid">
                    <div class="project-square">
                        <div class="project-inner">
                            <div class="project-front">
                                <img src="assets/buildcpg-labs.png" alt="BuildCPG Labs Logo">
                            </div>
                            <div class="project-description">
                                <p>Hands-on CPG analytics labs: pipelines, dashboards, and data engineering tutorials.</p>
                                <a href="https://narensham.github.io/buildcpg-labs/" target="_blank" class="project-link">View Project →</a>
                            </div>
                        </div>
                    </div>
                    <div class="project-square">
                        <div class="project-inner">
                            <div class="project-front">
                                <img src="assets/substack.png" alt="BuildCPG Substack Logo">
                            </div>
                            <div class="project-description">
                                <p>Weekly insights on CPG analytics, data engineering, and industry trends.</p>
                                <a href="https://buildcpg.substack.com/" target="_blank" class="project-link">Read Articles →</a>
                            </div>
                        </div>
                    </div>
                    <div class="project-square">
                        <div class="project-inner">
                            <div class="project-front">
                                <img src="assets/fc.png" alt="FitnessClass Logo">
                            </div>
                            <div class="project-description">
                                <p>AI-powered 3D workout platform with real-time pose detection and personalized coaching.</p>
                                <a href="https://www.linkedin.com/posts/narensham_fitnessapp-ai-healthtech-ugcPost-7312515538897813505-MdS8" target="_blank" class="project-link">Learn More →</a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="skills">
                <h2>My Skills & Expertise</h2>
                <div class="skills-container">
                    <div class="skills-category">
                        <h3>Data Engineering</h3>
                        <div class="skills-grid-squares">
                            <div class="skill-square">Python</div>
                            <div class="skill-square">SQL</div>
                            <div class="skill-square">dbt</div>
                            <div class="skill-square">Airflow</div>
                            <div class="skill-square">Prefect</div>
                            <div class="skill-square">Pandas</div>
                        </div>
                    </div>
                    <div class="skills-category">
                        <h3>Analytics & BI</h3>
                        <div class="skills-grid-squares">
                            <div class="skill-square">Tableau</div>
                            <div class="skill-square">Streamlit</div>
                            <div class="skill-square">Power BI</div>
                            <div class="skill-square">Looker</div>
                            <div class="skill-square">NumPy</div>
                            <div class="skill-square">Excel</div>
                        </div>
                    </div>
                    <div class="skills-category">
                        <h3>Cloud & Infrastructure</h3>
                        <div class="skills-grid-squares">
                            <div class="skill-square">AWS</div>
                            <div class="skill-square">GCP</div>
                            <div class="skill-square">Snowflake</div>
                            <div class="skill-square">PostgreSQL</div>
                            <div class="skill-square">Docker</div>
                            <div class="skill-square">Git</div>
                        </div>
                    </div>
                    <div class="skills-category">
                        <h3>Development</h3>
                        <div class="skills-grid-squares">
                            <div class="skill-square">React</div>
                            <div class="skill-square">Flask</div>
                            <div class="skill-square">FastAPI</div>
                            <div class="skill-square">REST APIs</div>
                            <div class="skill-square">Linux</div>
                            <div class="skill-square">CI/CD</div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="experience">
                <h2>My Journey in Data & Analytics Engineering</h2>
                <div class="experience-grid">
                    <div class="experience-item">
                        <div class="experience-header">
                            <h3>Commercial Data Enablement Manager</h3>
                            <div class="company">Molson Coors Beverage Company | Toronto, ON</div>
                            <div class="duration">September 2023 - Present (2+ years)</div>
                        </div>
                        <div class="experience-description">
                            <p>Bringing an integrated perspective across sales, business planning, and commercial operations, enabling agility amid shifting trade practices and changing market demand. Building data products that empower brands to grow market share and deliver best-in-class customer service at national scale.</p>
                            <ul class="project-highlights">
                                <li><strong>Unified Data Architecture:</strong> Architected scalable data models integrating Point-of-Sale and syndicated market data (Nielsen, IRI), enhancing accessibility and boosting stakeholder engagement with analytical tools across the organization</li>
                                <li><strong>Sales Planning & Revenue Visibility:</strong> Enhanced visibility to net sales revenue versus sales, reducing rework cycles during the volume planning process and improving forecast accuracy by 25%</li>
                                <li><strong>Supply Chain Optimization:</strong> Reduced lost sales by integrating weekly inventory levels at customer distribution centers for proactive supply chain management, preventing stockouts worth $2M+ annually</li>
                                <li><strong>Price & Promotions Transformation:</strong> Led transformation initiatives to support the Ontario convenience expansion, driving commercial success through data-driven pricing elasticity analysis and promotional effectiveness tracking</li>
                                <li><strong>Category Insights Platform:</strong> Built an automated planogram compliance assessment platform to ensure fair share of shelf, analyzing 1,000+ SKUs across retail channels and identifying $5M+ in revenue opportunities</li>
                            </ul>
                        </div>
                    </div>

                    <div class="experience-item">
                        <div class="experience-header">
                            <h3>Senior Consultant</h3>
                            <div class="company">Deloitte | Toronto, ON</div>
                            <div class="duration">November 2021 - June 2023 (1 year 8 months)</div>
                        </div>
                        <div class="experience-description">
                            <p>Led technical assessments and solution architecture for retail/CPG clients, focusing on supply planning, pricing, forecasting, and merchandise planning transformations.</p>
                            <ul class="project-highlights">
                                <li><strong>Value Stream Planning Assessments:</strong> Conducted current state and future state assessments for value stream planning model designs, identifying optimization opportunities worth $10M+ in working capital for major retailers</li>
                                <li><strong>Technical Feasibility Analysis:</strong> Delivered comprehensive feasibility analyses on system capabilities and data readiness for enterprise planning platforms, reducing implementation risk by 40%</li>
                                <li><strong>Solution Architecture:</strong> Designed end-to-end solution architecture for retail/CPG clients focusing on supply planning, pricing optimization, demand forecasting, and merchandise planning across 50+ distribution centers</li>
                                <li><strong>RFP & Pre-Sales Leadership:</strong> Managed RFP efforts for strategic accounts, configuring functional demo environments (POCs, Prototypes), conducting feasibility presentations, and building working technical prototypes that won $15M+ in contracts</li>
                                <li><strong>Enterprise Integration:</strong> Led the integration of planning platforms with SAP, ServiceNow, Oracle, and PLM systems, ensuring seamless data flow across 200+ business processes</li>
                            </ul>
                        </div>
                    </div>

                    <div class="experience-item">
                        <div class="experience-header">
                            <h3>Consultant</h3>
                            <div class="company">Deloitte | Orlando, FL</div>
                            <div class="duration">January 2019 - November 2021 (2 years 11 months)</div>
                        </div>
                        <div class="experience-description">
                            <p>Delivered supply chain and analytics transformation projects for retail and CPG clients across North America.</p>
                            <ul class="project-highlights">
                                <li><strong>SKU Rationalization for National Retailer:</strong> Led analytics initiative analyzing 10,000+ SKUs across sales velocity, margin contribution, and inventory turns. Identified 1,200 underperforming SKUs for discontinuation, freeing up $8M in working capital</li>
                                <li><strong>Inventory Optimization System:</strong> Designed and deployed inventory management dashboard integrating demand forecasting with replenishment planning, reducing stockouts by 25% for national distributor</li>
                                <li><strong>Raw Material Replenishment Solution:</strong> Engineered automated replenishment solution for Vancouver-based apparel retailer, processing supplier lead times, production schedules, and safety stock calculations to optimize $15M+ in raw material inventory</li>
                                <li><strong>Supply Chain Analytics Platform:</strong> Architected end-to-end analytics solution combining Tableau dashboards with Python-based demand forecasting models, deployed across 3 major CPG clients</li>
                                <li><strong>Portfolio Optimization Framework:</strong> Built predictive models for product portfolio analysis using Python and SQL, helping clients optimize assortment mix and reduce complexity by 30%</li>
                            </ul>
                        </div>
                    </div>

                    <div class="experience-item">
                        <div class="experience-header">
                            <h3>Senior Business Analyst</h3>
                            <div class="company">Practo | Bangalore, India</div>
                            <div class="duration">August 2016 - May 2017 (10 months)</div>
                        </div>
                        <div class="experience-description">
                            <p>Led development of Practo's B2B analytics platform for value-based care, enabling healthcare providers to make data-driven clinical and operational decisions.</p>
                            <ul class="project-highlights">
                                <li><strong>Value-Based Care Analytics Platform:</strong> Architected and delivered B2B analytics platform processing 100K+ patient records daily, enabling healthcare providers to track quality metrics, patient outcomes, and cost efficiency</li>
                                <li><strong>Clinical Data Integration:</strong> Designed ETL pipelines integrating Electronic Health Records (EHR) with analytics engine, providing real-time insights on treatment effectiveness and patient satisfaction scores</li>
                                <li><strong>Provider Performance Dashboards:</strong> Built comprehensive dashboards tracking physician productivity, appointment adherence, and patient wait times across 500+ healthcare facilities</li>
                            </ul>
                        </div>
                    </div>

                    <div class="experience-item">
                        <div class="experience-header">
                            <h3>Business Intelligence Engineer</h3>
                            <div class="company">Wipro Technologies | Bangalore, India & London, UK</div>
                            <div class="duration">August 2012 - July 2016 (4 years)</div>
                        </div>
                        <div class="experience-description">
                            <p>Delivered enterprise-wide reporting transformations and operational analytics for Fortune 500 clients across CPG and banking sectors.</p>
                            <ul class="project-highlights">
                                <li><strong>Financial Planning & Analysis Transformation (CPG Client):</strong> Led enterprise-wide reporting transformation for FP&A department, automating P&L reporting and reducing reporting time from 3 days to 4 hours. Implemented multi-currency consolidation processing $500M+ in transactions monthly</li>
                                <li><strong>Marketing Mix Modeling:</strong> Built statistical models analyzing the impact of marketing spend across channels (TV, digital, print, in-store) on revenue. Models informed $20M+ budget allocation decisions with 85% prediction accuracy</li>
                                <li><strong>Service Level Agreement Monitoring System (Banking Client):</strong> Transformed incident management and SLA tracking framework using SQL and Python, identifying root causes and trends in IT operations. Reduced mean time to resolution (MTTR) by 35% and improved SLA compliance from 78% to 94%</li>
                                <li><strong>Revenue Attribution Engine:</strong> Designed multi-touch attribution model tracking customer journeys across 15+ touchpoints, enabling data-driven marketing optimization and improving conversion rates by 22%</li>
                                <li><strong>Operational Excellence Dashboard:</strong> Created executive dashboard consolidating KPIs from 10+ source systems, providing real-time visibility into operational performance for C-suite stakeholders</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <section id="education" class="education-section">
                <h2>My Education</h2>
                <div class="education-grid">
                    <div class="education-item">
                        <div class="education-logo">
                            <img src="assets/University_of_Cincinnati_Logo.jpeg" alt="UQ Logo">
                        </div>
                        <div class="education-details">
                            <h3>The University of Cincinnati</h3>
                            <div class="degree">Data Science and Artificial Intelligence</div>
                            <div class="duration">Master of Information Systems</div>
                        </div>
                    </div>

                    <div class="education-item">
                        <div class="education-logo">
                            <img src="assets/PESUniversity-logo.jpg" alt="Previous University Logo">
                        </div>
                        <div class="education-details">
                            <h3>PES University</h3>
                            <div class="degree">Electrical and Electronics Engineering</div>
                            <div class="duration">Bachelor of Engineering</div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="contact">
                <h2>Contact me</h2>
                <p>I am currently looking to build. Early stage entrepreneurs are welcome to reach out. You can reach me at <a href="mailto:emailnarensham@gmail.com">emailnarensham@gmail.com</a></p>
            </section>
        </main>
    </div>
    <!-- Add Three.js initialization script -->
    <script>
        // Countdown timer
        let countdownTime = 5; // Set countdown time in seconds
        const countdownElement = document.getElementById('countdown');

        const countdownInterval = setInterval(() => {
            countdownTime--;
            countdownElement.textContent = countdownTime;

            if (countdownTime <= 0) {
                clearInterval(countdownInterval);
                document.getElementById('loading-overlay').style.display = 'none'; // Hide loading overlay
            }
        }, 1000);

        // Set up scene
        const scene = new THREE.Scene();
        // Set default background color (will be visible even before/if EXR fails to load)
        scene.background = new THREE.Color(0xafd5da); // Light blue color

        const container = document.getElementById('model-container');
        const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ 
            antialias: true,
            alpha: true  // Enable alpha
        });
        
        // Set renderer background to match scene
        renderer.setClearColor(0xffffff, 1);
        
        // Enable tone mapping and correct color space
        renderer.toneMapping = THREE.ACESFilmicToneMapping;
        renderer.toneMappingExposure = 1;
        renderer.outputEncoding = THREE.sRGBEncoding;
        
        renderer.setSize(container.clientWidth, container.clientHeight);
        container.appendChild(renderer.domElement);

        // Load environment map
        const pmremGenerator = new THREE.PMREMGenerator(renderer);
        pmremGenerator.compileEquirectangularShader();

        const exrLoader = new THREE.EXRLoader();
        exrLoader.load(
            'assets/mario_bg.exr',
            function (texture) {
                const envMap = pmremGenerator.fromEquirectangular(texture).texture;
                scene.environment = envMap;
                // Only set background if EXR loads successfully
                if (!/iPhone|iPad|iPod/i.test(navigator.userAgent)) {
                    scene.background = envMap;
                }
                
                // Create a rotation matrix to adjust the environment map orientation
                const rotationMatrix = new THREE.Matrix4();
                // Rotate around Y axis (left/right)
                const yRotation = Math.PI * 0.5; // 90 degrees - adjust this value
                // Rotate around X axis (up/down)
                const xRotation = Math.PI * 0.1; // slight tilt - adjust this value
                // Rotate around Z axis (roll)
                const zRotation = 0; // adjust if needed
                
                rotationMatrix.makeRotationFromEuler(
                    new THREE.Euler(xRotation, yRotation, zRotation)
                );
                
                // Apply rotation to environment map
                envMap.matrix = rotationMatrix;
                envMap.matrixAutoUpdate = false;
                
                texture.dispose();
                pmremGenerator.dispose();
                
                console.log('EXR file loaded successfully');
                // Hide loading overlay when the background is loaded
                document.getElementById('loading-overlay').style.display = 'none';
            },
            function (progress) {
                console.log('Loading EXR:', (progress.loaded / progress.total * 100) + '%');
            },
            function (error) {
                console.error('Error loading EXR file:', error);
                // Background is already set to light blue, so we just need to hide the loading overlay
                document.getElementById('loading-overlay').style.display = 'none';
            }
        );

        // Add lights with reduced intensity
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.2);
        scene.add(ambientLight);
        const directionalLight = new THREE.DirectionalLight(0xffffff, 0.3); // Further reduced
        directionalLight.position.set(0, 1, 2);
        const directionalLightback = new THREE.DirectionalLight(0xffffff, 0.3); // Further reduced
        directionalLightback.position.set(0, 1, -2);
        scene.add(directionalLight);
        scene.add(directionalLightback);
        
        // Position camera - updating the initial position
        camera.position.set(0, 0, 8);  // Changed from 5 to 8 to zoom out
        camera.lookAt(0, 0, 0);

        // Modify OrbitControls settings
        const controls = new THREE.OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true;
        controls.dampingFactor = 0.05;
        controls.screenSpacePanning = true;
        controls.minDistance = 2;
        controls.maxDistance = 10;
        controls.target.set(0, 0, 0);

        // Disable all zoom/pan/rotation controls
        controls.enableZoom = false; 
        
        let model;
        
        // Load GLB model
        const loader = new THREE.GLTFLoader();
        loader.load(
            'assets/bust_ted3.glb',
            function (gltf) {
                model = gltf.scene;
                model.scale.set(2, 2, 2);
                model.position.set(-2, 0, 0);
                
                // Center the model
                const box = new THREE.Box3().setFromObject(model);
                const center = box.getCenter(new THREE.Vector3());
                model.position.sub(center);
                
                // Add initial rotation to face forward
                model.rotation.set(0, 0, 0);
                
                // Enable environment map on the model materials
                model.traverse((child) => {
                    if (child.isMesh) {
                        child.material.envMapIntensity = 1;
                    }
                });
                
                scene.add(model);
                
                // Update controls target to origin
                controls.target.set(0, 0, 0);
                controls.update();
                // Hide loading overlay when the model is loaded
                document.getElementById('loading-overlay').style.display = 'none';
            },
            undefined,
            function (error) {
                console.error('An error occurred loading the model:', error);
            }
        );

        // Add these variables after scene setup
        let mouseX = 0;
        let mouseY = 0;
        let targetX = 0;
        let targetY = 0;
        const windowHalfX = window.innerWidth / 2;
        const windowHalfY = window.innerHeight / 2;
        const movementRange = 0.5; // Adjust this value to control movement range (0.5 = 50% of max movement)

        // Add mouse move event listener
        document.addEventListener('mousemove', onDocumentMouseMove);

        function onDocumentMouseMove(event) {
            mouseX = (event.clientX - windowHalfX);
            mouseY = (event.clientY - windowHalfY);
        }

        // Update the animate function
        function animate() {
            requestAnimationFrame(animate);

            if (model) {
                // Calculate target position with smooth interpolation
                targetX = mouseX * 0.001; // Adjust multiplier to control sensitivity
                targetY = mouseY * 0.001;

                // Restrict movement range
                targetX = Math.max(Math.min(targetX, movementRange), -movementRange);
                targetY = Math.max(Math.min(targetY, movementRange), -movementRange);

                // Smooth interpolation
                model.rotation.y += (targetX - model.rotation.y) * 0.05;
                model.rotation.x += (targetY - model.rotation.x) * 0.05;
            }

            renderer.render(scene, camera);
        }

        animate();
    </script>
    <!-- Add this right before </body> -->
    <script>
        const hamburger = document.getElementById('hamburger');
        const navLinks = document.getElementById('nav-links');
        const body = document.body;

        function toggleMenu() {
            hamburger.classList.toggle('active');
            navLinks.classList.toggle('show');
            body.classList.toggle('menu-open');
        }

        function closeMenu() {
            hamburger.classList.remove('active');
            navLinks.classList.remove('show');
            body.classList.remove('menu-open');
        }

        // Toggle menu on hamburger click
        hamburger.addEventListener('click', (e) => {
            e.stopPropagation();
            toggleMenu();
        });

        // Close menu when clicking a link
        navLinks.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const target = e.target.getAttribute('href');
                
                closeMenu();
                
                // Small delay before scrolling to section
                setTimeout(() => {
                    document.querySelector(target).scrollIntoView({
                        behavior: 'smooth'
                    });
                }, 300);
            });
        });

        // Close menu when clicking outside
        document.addEventListener('click', (e) => {
            if (navLinks.classList.contains('show') && 
                !e.target.closest('nav') && 
                !e.target.closest('.hamburger')) {
                closeMenu();
            }
        });

        // Close menu on resize
        window.addEventListener('resize', () => {
            if (window.innerWidth > 768) {
                closeMenu();
            }
        });
    </script>
    <!-- Add this script before the closing body tag -->
    <script>
        const roles = [
            "CPG Analytics Expert",
            "Data Engineer",
            "Product Manager",
            "Full Stack Developer",
            "Supply Chain Planning Expert",
            "BI Architect",
            "Problem Solver",
        ];

        const dynamicText = document.querySelector('.dynamic-text');
        let currentIndex = 0;
        let isDeleting = false;
        let currentText = '';
        let typingSpeed = 50; // Speed of typing in milliseconds

        function typeText() {
            const fullText = roles[currentIndex];

            if (isDeleting) {
                // Remove characters
                currentText = fullText.substring(0, currentText.length - 1);
                typingSpeed = 30; // Faster when deleting
            } else {
                // Add characters
                currentText = fullText.substring(0, currentText.length + 1);
                typingSpeed = 50; // Normal speed when typing
            }

            dynamicText.textContent = currentText;

            if (!isDeleting && currentText === fullText) {
                // Start deleting after a pause
                isDeleting = true;
                typingSpeed = 2000; // Wait before starting to delete
            } else if (isDeleting && currentText === '') {
                // Move to next text
                isDeleting = false;
                currentIndex = (currentIndex + 1) % roles.length;
                typingSpeed = 500; // Pause before typing next word
            }

            setTimeout(typeText, typingSpeed);
        }

        // Start the typing animation
        typeText();
    </script>
    <!-- Add this before closing body tag -->
    <script src="scripts/projects.js"></script>
    <footer>
        <p style="text-align: center; font-size: 0.8rem; margin-top: 2rem;">
            Made with ❤️ by Naren
        </p>
    </footer>
</body>
</html>